[
  {
    "objectID": "proposal.html",
    "href": "proposal.html",
    "title": "Review of Reproductive Journals and their disparities of race and ethnicity",
    "section": "",
    "text": "library(tidyverse)"
  },
  {
    "objectID": "proposal.html#dataset",
    "href": "proposal.html#dataset",
    "title": "Review of Reproductive Journals and their disparities of race and ethnicity",
    "section": "Dataset",
    "text": "Dataset\n\narticles &lt;- read_csv('./data/article_dat.csv')\n\n\nThis dataset is a summarized values of research papers within reproductive medicinal journals, focused on racial and ethnic disparities. Each observation is one journal article, containing the date and name of publication, racial and ethnic statistics (quantity of each), and yes/no descriptions of what the article covered. It also contains a second file, containing information related to any modeling made within papers. I will primarily focus on the article data, which is 316 observations, each with 65 data points. I found this data interesting as I have previously worked in the medical field, and this data set seems to be a more comprehensive information surrounding medical information available within the 2025 data sets.\nThis dataset is a compilation of 6 journals, spanning from 2010 to 2023. While there are two files, the model file is included but at the current moment not intended to be used.\n\nunique(articles[[\"journal\"]])\n\n[1] \"Obstetrics and gynecology\"                                    \n[2] \"Gynecologic oncology\"                                         \n[3] \"American journal of obstetrics and gynecology\"                \n[4] \"Fertility and sterility\"                                      \n[5] \"BJOG : an international journal of obstetrics and gynaecology\"\n[6] \"Human reproduction (Oxford, England)\"                         \n\n\n\ntibble(articles)\n\n# A tibble: 318 × 65\n       pmid doi         jabbrv journal  year month day   title abstract keywords\n      &lt;dbl&gt; &lt;chr&gt;       &lt;chr&gt;  &lt;chr&gt;   &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt;   \n 1 31764726 10.1097/AO… Obste… Obstet…  2020 04    03    Desi… To eval… Adult; …\n 2 31492539 10.1016/j.… Gynec… Gyneco…  2019 11    05    Medi… To comp… Health …\n 3 30890269 10.1016/j.… Gynec… Gyneco…  2019 07    05    Iden… Germlin… Adult; …\n 4 29605049 10.1016/j.… Gynec… Gyneco…  2018 07    10    Expl… To eval… High vo…\n 5 28800945 10.1016/j.… Gynec… Gyneco…  2018 07    10    Impa… Althoug… Age; Di…\n 6 27697287 10.1016/j.… Gynec… Gyneco…  2017 05    29    The … Enrollm… Clinica…\n 7 27103178 10.1016/j.… Gynec… Gyneco…  2017 05    01    Surg… To eval… Delayed…\n 8 28159409 10.1016/j.… Gynec… Gyneco…  2017 05    25    Disp… To exam… Adenoca…\n 9 26706661 10.1016/j.… Gynec… Gyneco…  2016 06    01    Dyin… To iden… Advance…\n10 26325527 10.1016/j.… Gynec… Gyneco…  2016 01    07    Asse… Sexual … Depress…\n# ℹ 308 more rows\n# ℹ 55 more variables: study_aim &lt;chr&gt;, study_location &lt;chr&gt;,\n#   study_year_start &lt;dbl&gt;, study_year_end &lt;dbl&gt;, study_type &lt;chr&gt;,\n#   data_source &lt;chr&gt;, race1 &lt;chr&gt;, race1_ss &lt;dbl&gt;, race2 &lt;chr&gt;,\n#   race2_ss &lt;dbl&gt;, race3 &lt;chr&gt;, race3_ss &lt;dbl&gt;, race4 &lt;chr&gt;, race4_ss &lt;dbl&gt;,\n#   race5 &lt;chr&gt;, race5_ss &lt;dbl&gt;, race6 &lt;chr&gt;, race6_ss &lt;dbl&gt;, race7 &lt;chr&gt;,\n#   race7_ss &lt;dbl&gt;, race8 &lt;chr&gt;, race8_ss &lt;dbl&gt;, eth1 &lt;chr&gt;, eth1_ss &lt;dbl&gt;, …"
  },
  {
    "objectID": "proposal.html#questions",
    "href": "proposal.html#questions",
    "title": "Review of Reproductive Journals and their disparities of race and ethnicity",
    "section": "Questions",
    "text": "Questions\n\nHow have ethnic and racial inclusion into research changed across time?\nHow is the length of a study noticeable between different journals?"
  },
  {
    "objectID": "proposal.html#analysis-plan",
    "href": "proposal.html#analysis-plan",
    "title": "Review of Reproductive Journals and their disparities of race and ethnicity",
    "section": "Analysis plan",
    "text": "Analysis plan\n\nA plan for answering each of the questions including the variables involved, variables to be created (if any), external data to be merged in (if any).\nExisting features\n\nThere are 16 features relating to race. They are categorized as race1, race1_ss (count), etc. The same setup is done or ethnic categories. These features will be used to answer question 1.\nBoth question 1 and 2 will use the year, month, day features.\n\nFeatures created\n\nAs dates are subdivided into 3 separate features by month, day, year, I will consolidate them into a date object for me to more easily use them when plotting across time.\nSince each row observation has multiple columns for race, I will need to transform the data into a long pivot so that I can plot race across time. To do this I will not be able to use a build in function to do so. This is because features are of different types, of which the pivot_longer function does not support.\nStudy time. I will need to create a new feature designating the time that the study took. This is a mathematical calculation of study_year_end - study_year_start.\nPercentage calculations of ethnic disparities. Instead of using raw values, I will calculate percentage of ethnic/racial disparities to standardize visualizations.\n\nData cleansing\n\nRace and ethnic groups are not standardized. there are similarly named racial groups which will need to be standardized. As some examples: “White”, “non-hispanic-white”, “White, Non-Hispanic”, and “Non-Hispanic White” would need to be mapped to the same racial group.\nFor clarification, I am not able to accurately differentiate whether it is capable of limiting a structure of racial groups by definition. As an example of “White” and “White, Non-Hispanic” I am unable to assume whether “White” indicates “Non-Hispanic White”. For the purposes of analysis, I will consolidate these to groups as a subset of “White”, inclusive of non-Hispanic white and white as identified in papers.\nFor answering my questions, I do not anticipate adding percentages of each journal. This was considered and not done, as each journal has different sizes and an overall goal is to see inclusion across all journals, not just the percentage of participants within each journal.\nStudy type is also not being included at the current moment, however could be considered for future analysis.\n\nVisualization creation\n\nI anticipate plotting question 1 (ethnic disparities over time) as a time series analysis as month, years as the x-axis, and the percentage of ethnic category on the y-axis, grouping and coloring by racial/ethnic category.\nFor question two, similarly utilize a time series across the x-axis, and view the length of study as the y-axis.\nPending further thought, create a connected scatter plot of time with the length of a study and the percentage of"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Analysis of Gynecological Research Articles",
    "section": "",
    "text": "This project investigates gynecological journals across time, reviewing racial and ethnic inclusion as well as journal publication frequency. Initial findings suggest no change of race and ethnicity inclusion over time. Further investigation would be required to identify validity and longer trends."
  },
  {
    "objectID": "index.html#abstract",
    "href": "index.html#abstract",
    "title": "Analysis of Gynecological Research Articles",
    "section": "",
    "text": "This project investigates gynecological journals across time, reviewing racial and ethnic inclusion as well as journal publication frequency. Initial findings suggest no change of race and ethnicity inclusion over time. Further investigation would be required to identify validity and longer trends."
  },
  {
    "objectID": "presentation.html#quarto",
    "href": "presentation.html#quarto",
    "title": "Analysis of Racial and Ethnic Disparities in Gynecological Studies",
    "section": "Quarto",
    "text": "Quarto\n\nThe presentation is created using the Quarto CLI\n## sets the start of a new slide"
  },
  {
    "objectID": "presentation.html#layouts",
    "href": "presentation.html#layouts",
    "title": "Analysis of Racial and Ethnic Disparities in Gynecological Studies",
    "section": "Layouts",
    "text": "Layouts\nYou can use plain text\n\n\n\nor bullet points1\n\n\nor in two columns\n\n\nlike\nthis\n\nAnd add footnotes"
  },
  {
    "objectID": "presentation.html#code",
    "href": "presentation.html#code",
    "title": "Analysis of Racial and Ethnic Disparities in Gynecological Studies",
    "section": "Code",
    "text": "Code"
  },
  {
    "objectID": "presentation.html#plots",
    "href": "presentation.html#plots",
    "title": "Analysis of Racial and Ethnic Disparities in Gynecological Studies",
    "section": "Plots",
    "text": "Plots"
  },
  {
    "objectID": "presentation.html#plot-and-text",
    "href": "presentation.html#plot-and-text",
    "title": "Analysis of Racial and Ethnic Disparities in Gynecological Studies",
    "section": "Plot and text",
    "text": "Plot and text\n\n\n\nSome text\ngoes here"
  },
  {
    "objectID": "presentation.html#tables",
    "href": "presentation.html#tables",
    "title": "Analysis of Racial and Ethnic Disparities in Gynecological Studies",
    "section": "Tables",
    "text": "Tables\nIf you want to generate a table, make sure it is in the HTML format (instead of Markdown or other formats), e.g.,\n\n\n\n\n\nspecies\nisland\nbill_length_mm\nbill_depth_mm\nflipper_length_mm\nbody_mass_g\nsex\n\n\n\n\nAdelie\nTorgersen\n39.1\n18.7\n181\n3750\nmale\n\n\nAdelie\nTorgersen\n39.5\n17.4\n186\n3800\nfemale\n\n\nAdelie\nTorgersen\n40.3\n18.0\n195\n3250\nfemale\n\n\nAdelie\nTorgersen\nNA\nNA\nNA\nNA\nNA\n\n\nAdelie\nTorgersen\n36.7\n19.3\n193\n3450\nfemale\n\n\nAdelie\nTorgersen\n39.3\n20.6\n190\n3650\nmale"
  },
  {
    "objectID": "presentation.html#images",
    "href": "presentation.html#images",
    "title": "Analysis of Racial and Ethnic Disparities in Gynecological Studies",
    "section": "Images",
    "text": "Images\n\nImage credit: Danielle Navarro, Percolate."
  },
  {
    "objectID": "presentation.html#math-expressions",
    "href": "presentation.html#math-expressions",
    "title": "Analysis of Racial and Ethnic Disparities in Gynecological Studies",
    "section": "Math Expressions",
    "text": "Math Expressions\nYou can write LaTeX math expressions inside a pair of dollar signs, e.g. $\\alpha+\\beta$ renders \\(\\alpha + \\beta\\). You can use the display style with double dollar signs:\n$$\\bar{X}=\\frac{1}{n}\\sum_{i=1}^nX_i$$\n\\[\n\\bar{X}=\\frac{1}{n}\\sum_{i=1}^nX_i\n\\]\nLimitations:\n\nThe source code of a LaTeX math expression must be in one line, unless it is inside a pair of double dollar signs, in which case the starting $$ must appear in the very beginning of a line, followed immediately by a non-space character, and the ending $$ must be at the end of a line, led by a non-space character;\nThere should not be spaces after the opening $ or before the closing $."
  },
  {
    "objectID": "presentation.html#feeling-adventurous",
    "href": "presentation.html#feeling-adventurous",
    "title": "Analysis of Racial and Ethnic Disparities in Gynecological Studies",
    "section": "Feeling adventurous?",
    "text": "Feeling adventurous?\n\nYou are welcomed to use the default styling of the slides. In fact, that’s what I expect majority of you will do. You will differentiate yourself with the content of your presentation.\nBut some of you might want to play around with slide styling. Some solutions for this can be found at https://quarto.org/docs/presentations/revealjs."
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "This project was developed by [Team Name] For INFO 526 - Data Analysis and Visualization at the University of Arizona, taught by Dr. Greg Chism. The team is comprised of the following team members.\n\nTeam member 1: One sentence description of Team member 1 (e.g., year, major, etc.).\nTeam member 2: One sentence description of Team member 2 (e.g., year, major, etc.).\nTeam member 3: One sentence description of Team member 3 (e.g., year, major, etc.).\nTeam member 4: One sentence description of Team member 4 (e.g., year, major, etc.)."
  },
  {
    "objectID": "presentation.html",
    "href": "presentation.html",
    "title": "Project title",
    "section": "",
    "text": "The presentation is created using the Quarto CLI\n## sets the start of a new slide\n\n\n\n\nYou can use plain text\n\n\n\nor bullet points1\n\n\nor in two columns\n\n\n\nlike\nthis\n\n\n\n\n\n\n# A tibble: 2 × 5\n  term        estimate std.error statistic       p.value\n  &lt;chr&gt;          &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;         &lt;dbl&gt;\n1 (Intercept)   25.3      3.08        8.22 0.00000000358\n2 speed         -0.116    0.0642     -1.81 0.0806       \n\n\n# A tibble: 1 × 12\n  r.squared adj.r.squared sigma statistic p.value    df logLik   AIC   BIC\n      &lt;dbl&gt;         &lt;dbl&gt; &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n1    0.0983        0.0682  5.82      3.27  0.0806     1  -101.  207.  212.\n# ℹ 3 more variables: deviance &lt;dbl&gt;, df.residual &lt;int&gt;, nobs &lt;int&gt;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nSome text\ngoes here"
  },
  {
    "objectID": "presentation.html#footnotes",
    "href": "presentation.html#footnotes",
    "title": "Project title",
    "section": "Footnotes",
    "text": "Footnotes\n\n\nAnd add footnotes↩︎"
  },
  {
    "objectID": "presentation.html#data-and-purpose",
    "href": "presentation.html#data-and-purpose",
    "title": "Analysis of Racial and Ethnic Disparities in Gynecological Studies",
    "section": "Data and Purpose",
    "text": "Data and Purpose\n\nTidyTuesday contains a repository of reproductive journals, each with values of the counts for racial and ethnic categories.\nData is taken from 2010-2023\nWith a background as a software engineer in the healthcare industry, I was interested to see how this data would change over time."
  },
  {
    "objectID": "presentation.html#description-of-data",
    "href": "presentation.html#description-of-data",
    "title": "Analysis of Racial and Ethnic Disparities in Gynecological Studies",
    "section": "Description of Data",
    "text": "Description of Data\nViewed below, the data is contained of 318 research articles, each with 61 features. Features contain basic journal information such as the journal, article name, year of publication, and the racial makeup of the article.\n\n\n# A tibble: 318 × 65\n       pmid doi         jabbrv journal  year month day   title abstract keywords\n      &lt;dbl&gt; &lt;chr&gt;       &lt;chr&gt;  &lt;chr&gt;   &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt;   \n 1 31764726 10.1097/AO… Obste… Obstet…  2020 04    03    Desi… To eval… Adult; …\n 2 31492539 10.1016/j.… Gynec… Gyneco…  2019 11    05    Medi… To comp… Health …\n 3 30890269 10.1016/j.… Gynec… Gyneco…  2019 07    05    Iden… Germlin… Adult; …\n 4 29605049 10.1016/j.… Gynec… Gyneco…  2018 07    10    Expl… To eval… High vo…\n 5 28800945 10.1016/j.… Gynec… Gyneco…  2018 07    10    Impa… Althoug… Age; Di…\n 6 27697287 10.1016/j.… Gynec… Gyneco…  2017 05    29    The … Enrollm… Clinica…\n 7 27103178 10.1016/j.… Gynec… Gyneco…  2017 05    01    Surg… To eval… Delayed…\n 8 28159409 10.1016/j.… Gynec… Gyneco…  2017 05    25    Disp… To exam… Adenoca…\n 9 26706661 10.1016/j.… Gynec… Gyneco…  2016 06    01    Dyin… To iden… Advance…\n10 26325527 10.1016/j.… Gynec… Gyneco…  2016 01    07    Asse… Sexual … Depress…\n# ℹ 308 more rows\n# ℹ 55 more variables: study_aim &lt;chr&gt;, study_location &lt;chr&gt;,\n#   study_year_start &lt;dbl&gt;, study_year_end &lt;dbl&gt;, study_type &lt;chr&gt;,\n#   data_source &lt;chr&gt;, race1 &lt;chr&gt;, race1_ss &lt;dbl&gt;, race2 &lt;chr&gt;,\n#   race2_ss &lt;dbl&gt;, race3 &lt;chr&gt;, race3_ss &lt;dbl&gt;, race4 &lt;chr&gt;, race4_ss &lt;dbl&gt;,\n#   race5 &lt;chr&gt;, race5_ss &lt;dbl&gt;, race6 &lt;chr&gt;, race6_ss &lt;dbl&gt;, race7 &lt;chr&gt;,\n#   race7_ss &lt;dbl&gt;, race8 &lt;chr&gt;, race8_ss &lt;dbl&gt;, eth1 &lt;chr&gt;, eth1_ss &lt;dbl&gt;, …\n\n\nReference https://github.com/rfordatascience/tidytuesday/blob/main/data/2025/2025-02-25/readme.md"
  },
  {
    "objectID": "presentation.html#research-questions",
    "href": "presentation.html#research-questions",
    "title": "Analysis of Racial and Ethnic Disparities in Gynecological Studies",
    "section": "Research Questions",
    "text": "Research Questions\nI provided two questions for review.\n\nHow have ethnic and racial inclusion into research changed across time?\nHow is the length of a study noticeable between different journals?\n\nThe overarching concept is to understand how trends could be seen over time."
  },
  {
    "objectID": "presentation.html#overview",
    "href": "presentation.html#overview",
    "title": "Analysis of Racial and Ethnic Disparities in Gynecological Studies",
    "section": "Overview",
    "text": "Overview\nCleansing used in these stages\n\nStratifying race/ethnicity\nPivoting the dataframe to be able to use for analysis\nAggregate values\nAlter values to proportions rather than raw values"
  },
  {
    "objectID": "presentation.html#stratifying-race-and-ethnicity",
    "href": "presentation.html#stratifying-race-and-ethnicity",
    "title": "Analysis of Racial and Ethnic Disparities in Gynecological Studies",
    "section": "Stratifying Race and Ethnicity",
    "text": "Stratifying Race and Ethnicity\nI manually reviewed mappings of values to ensure accuracy.\n\nOriginally, automation via regex was considered, but not implemented due to risk of incorrect categorization.\nFor values that I could not identify, instead of a risk of missclassification, I identified as a separate category.\nValues were stratified into: American Indian or Alaskan Native, Asian, Black, Hispanic, Hawaiian or Pacific Islander, Other (Unknown), White, and Uncategorizable."
  },
  {
    "objectID": "presentation.html#pivoting",
    "href": "presentation.html#pivoting",
    "title": "Analysis of Racial and Ethnic Disparities in Gynecological Studies",
    "section": "Pivoting",
    "text": "Pivoting\nRows were designed as containing all values of race. This was pivoted to support visualization aggregation.\n\n\n\nJournal\nrace1\nrace1ss\nrace2\nrace2ss\n\n\n\n\nJournal A\nWhite\n10\nAsian\n3\n\n\n\n\n\n\nJournal\nRace\nRace Count\n\n\n\n\nJournal A\nWhite\n10\n\n\nJournal A\nAsian\n3"
  },
  {
    "objectID": "presentation.html#aggregation",
    "href": "presentation.html#aggregation",
    "title": "Analysis of Racial and Ethnic Disparities in Gynecological Studies",
    "section": "Aggregation",
    "text": "Aggregation\nValues were aggregated across year and race to support a high level view of counts.\n\n\n\nJournal\nYear\nRace\nRace Count\n\n\n\n\nA\n2010\nWhite\n7\n\n\nB\n2011\nAsian\n5\n\n\nB\n2011\nAsian\n3\n\n\n\nInto\n\n\n\nYear\nRace\nTotal Count\n\n\n\n\n2010\nWhite\n7\n\n\n2011\nAsian\n8"
  },
  {
    "objectID": "presentation.html#proportions",
    "href": "presentation.html#proportions",
    "title": "Analysis of Racial and Ethnic Disparities in Gynecological Studies",
    "section": "Proportions",
    "text": "Proportions\nInstead of using raw values, proportions were assigned. This was more accurate to provide a better understanding as to how an increase or decrease in disparities were conducted.\n\nExample: if the number of publications increased over the years, by default we could expect the number of people involved in studies to increase"
  },
  {
    "objectID": "presentation.html#racial-ethnic-inclusion-over-time",
    "href": "presentation.html#racial-ethnic-inclusion-over-time",
    "title": "Analysis of Racial and Ethnic Disparities in Gynecological Studies",
    "section": "Racial & Ethnic Inclusion Over Time",
    "text": "Racial & Ethnic Inclusion Over Time\n\n\n\nHow have ethnic and racial inclusion into research changed across time?"
  },
  {
    "objectID": "presentation.html#comparison-of-study-length",
    "href": "presentation.html#comparison-of-study-length",
    "title": "Analysis of Racial and Ethnic Disparities in Gynecological Studies",
    "section": "Comparison of Study Length",
    "text": "Comparison of Study Length\n\nHow is the length of a study noticeable between different journals?\n\n\nTook 3 features, removed missing and filtered those without lengths\n\n\narticle_lengths &lt;- articles[c('study_year_start', \n                              'study_year_end', \n                              'journal')] |&gt; \n  mutate(research_length = study_year_end - study_year_start) |&gt;\n  filter(!is.na(study_year_start) &\n           study_year_start &gt; 0 & study_year_end &gt; 0 )"
  },
  {
    "objectID": "presentation.html#comparison-of-study-length-1",
    "href": "presentation.html#comparison-of-study-length-1",
    "title": "Analysis of Racial and Ethnic Disparities in Gynecological Studies",
    "section": "Comparison of Study Length",
    "text": "Comparison of Study Length"
  },
  {
    "objectID": "presentation.html#analysis-1",
    "href": "presentation.html#analysis-1",
    "title": "Analysis of Racial and Ethnic Disparities in Gynecological Studies",
    "section": "Analysis",
    "text": "Analysis\n\nComparison of race/ethnicity across time\n\nNot much change\n2020: highlight of 98% of values were listed as Unknown\n\nComparison of study length\n\nJournals seemed to have trends of lengths\n\nFamily and sterility being less than 5\nBJOG around 10\n\nHuman reproduction started in incremental years:\n\n2000, 2005, 2010"
  },
  {
    "objectID": "index.html#discussion",
    "href": "index.html#discussion",
    "title": "Analysis of Gynecological Research Articles",
    "section": "Discussion",
    "text": "Discussion\nWe find that over time there is no significant change between the racial groups. There is a high change in 2020, where the number of unknown racial/ethnicity rises to 98%. I believe this to be an anomoly due to Covid. The population under white racial group is trending around the same. The years 2010-2012 have a high percentage, and then trend downward, however the percentage rises again towards 2021."
  },
  {
    "objectID": "index.html#discussion-1",
    "href": "index.html#discussion-1",
    "title": "Analysis of Gynecological Research Articles",
    "section": "Discussion",
    "text": "Discussion\nI found that there was a difference between articles. As expected, longer standing article journals do not have any data past around 2010, because they publish on a 10 year basis. It was interesting to see that the Human Reproduction journal very clearly publishes every 2 years. Gynecologic Oncology was the highest, with some research journals listing more than 30 years."
  },
  {
    "objectID": "scratch/testracefilter.html",
    "href": "scratch/testracefilter.html",
    "title": "testracefilter",
    "section": "",
    "text": "library(tidyverse)\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.2     ✔ tibble    3.2.1\n✔ lubridate 1.9.4     ✔ tidyr     1.3.1\n✔ purrr     1.0.4     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\nlibrary(waffle)\n\narticles &lt;- read_csv('../data/article_dat.csv')\n\nRows: 318 Columns: 65\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (26): doi, jabbrv, journal, month, day, title, abstract, keywords, study...\ndbl (35): pmid, year, study_year_start, study_year_end, race1_ss, race2_ss, ...\nlgl  (4): eth7, eth7_ss, eth8, eth8_ss\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\n\n\nwhite &lt;- c(\n  \"WHITE\" = \"White\",\n  \"HISPANIC WHITE\" = \"White\",\n  \"EUROPEAN AMERICAN\" = \"White\",\n  \"CAUCASIAN OR WHITE\" = \"White\",\n  \"WHITE, NON-HISPANIC\" = \"White\",\n  \"CAUCASIAN\" = \"White\",\n  \"NON-HISPANIC WHITE\" = \"White\",\n  \"NH WHITE\" = \"White\",\n  \"NON-HISPANIC WHITE AND ADDITIONAL RACE AND ETHNICITIES\" = \"White\",\n  \"WHITE/CAUCASIAN\"=\"White\",\n  \"NON HISPANIC WHITES\"=\"White\",\n  \"CAUCASIANS\"=\"White\",\n  \"WHITE - NOT HISPANIC OR LATINO\",\n  \"WHITE (NON-HISPANIC)\"=\"White\",\n  \"WHITE NON-HISPANIC\"=\"White\",\n  \"WHITE DONOR / WHITE RECIPIENT\"=\"White\",\n  \"U.S.-BORN, NON-HISPANIC WHITE;\"=\"White\",\n  \"NON-HISPANIC, WHITE\"=\"White\",\n  \"WHITE (OR CAUCASIAN)\"=\"White\",\n  \"WHITES\"=\"White\",\n  \"WHITE-NON-HISPANIC\"=\"White\",\n  \"NON-LATINA WHITE\"=\"White\",\n  \"WHITE OR CAUCASIAN\"=\"White\",\n  \"WHITE - NOT HISPANIC OR LATINO\"=\"White\",\n  \"NON HISPANIC WHITE\"=\"White\"\n\n)\n\nblack &lt;- c(\n  \"BLACK\" = \"Black or African American\",\n  \"NON-HISPANIC BLACK\" = \"Black or African American\",\n  \"AFRICAN AMERICAN\" = \"Black or African American\",\n  \"BLACK/AFRICAN AMERICAN\" = \"Black or African American\",\n  \"BLACK, NON-HISPANIC\" = \"Black or African American\",\n  \"BLACK NON-HISPANIC\" = \"Black or African American\",\n  \"BLACK OR AFRICAN AMERICAN\" = \"Black or African American\",\n  \"AFRICAN AMERICANS\" = \"Black or African American\",\n  \"AFRICAN-AMERICAN\" = \"Black or African American\",\n  \"AFRICAN AMERICAN/BLACK\" = \"Black or African American\",\n  \"U.S.-BORN, NON-HISPANIC BLACK\" = \"Black or African American\",\n  \"NON-HISPANIC, BLACK\" = \"Black or African American\",\n  \"BLACKS\" = \"Black or African American\",\n  \"BLACK (NON-HISPANIC)\" = \"Black or African American\",\n  \"NONBLACK\" = \"Black or African American\",\n  \"AFRICAN AMERICAN OR BLACK\" = \"Black or African American\",\n  \"BLACK DONOR / BLACK RECIPIENT\" = \"Black or African American\",\n  \"BLACK DONOR / NONBLACK RECIPIENT\" = \"Black or African American\",\n  \"AFRICAN AMERICAN, NON-HISPANIC\" = \"Black or African American\",\n  \"AFRICAN-AMERICAN, NON-HISPANIC\" = \"Black or African American\",\n  \"NON-HISPANIC BLACK/AFRICAN AMERICAN\" = \"Black or African American\"\n)\n\nhispanic &lt;- c(\n  \"HISPANIC\" = \"Hispanic or Latino\",\n  \"HISPANIC WHITES\" = \"Hispanic or Latino\",\n  \"HISPANIC/LATINA\" = \"Hispanic or Latino\",\n  \"LATINA/HISPANIC\" = \"Hispanic or Latino\",\n  \"US-BORN HISPANIC\" = \"Hispanic or Latino\",\n  \"OTHER HISPANIC\" = \"Hispanic or Latino\",\n  \"LATINA\" = \"Hispanic or Latino\",\n  \"HISPANIC OR LATINO\"=\"Hispanic or Latino\",\n  \"LATINO\"=\"Hispanic or Latino\",\n  \"LATINO AMERICAN\"=\"Hispanic or Latino\",\n  \"HISPANIC OR LATINA\"=\"Hispanic or Latino\",\n  \"HISPANIC OR LATINO\"=\"Hispanic or Latino\",\n  \"HISPANIC (OF ANY RACE)\"=\"Hispanic or Latino\",\n  \"HISPANIC, SPANISH-SPEAKING\"=\"Hispanic or Latino\",\n  \"LATINA WHITE\"=\"Hispanic or Latino\",\n  \"FOREIGN-BORN HISPANIC\"=\"Hispanic or Latino\",\n  \"HISPANIC, NOT OTHERWISE SPECIFIED\"=\"Hispanic or Latino\",\n  \"HISPANIC DONOR / HISPANIC RECIPIENT\"=\"Hispanic or Latino\",\n  \"HISPANIC/LATINX\"=\"Hispanic or Latino\",\n  \"HISPANIC/LATINO/A\"=\"Hispanic or Latino\",\n  \"HISPANIC DONOR / NON-HISPANIC RECIPIENT\"=\"Hispanic or Latino\",\n  \"HISPANIC, ENGLISH-SPEAKING\"=\"Hispanic or Latino\",\n  \"HISPANIC AMERICAN\"=\"Hispanic or Latino\",\n  \"HISPANIC, LATINA\"=\"Hispanic or Latino\",\n  \"HISPANIC, ENGLISH-SPEAKING\"=\"Hispanic or Latino\",\n  \"HISPANIC OR LATINX\"=\"Hispanic or Latino\",\n  \"LATINA (SPANISH SPEAKING)\"=\"Hispanic or Latino\",\n  \"LATINA (ENGLISH-SPEAKING)\"=\"Hispanic or Latino\",\n  \"HISPANIC/LATINO\"=\"Hispanic or Latino\"\n)\n\nasian &lt;- c(\n  \"ASIAN\" = \"Asian\",\n  \"ASIAN AMERICAN\" = \"Asian\",\n  \"NON-HISPANIC ASIAN\" = \"Asian\",\n  \"ASIAN/PACIFIC ISLANDER\" = \"Asian\",\n  \"ASIAN OR PACIFIC ISLANDER\" = \"Asian\",\n  \"ASIAN/PACIFIC\" = \"Asian\",\n  \"NON-HISPANIC ASIAN OR PACIFIC ISLANDER\" = \"Asian\",\n  \"CHINESE\"=\"Asian\",\n\"NON-HISPANIC, ASIAN\" = \"Asian\",\n\"ASIAN DONOR / NON-ASIAN RECIPIENT\" = \"Asian\",\n\"ASIAN DONOR / ASIAN RECIPIENT\" = \"Asian\",\n\"SOUTH ASIAN\" = \"Asian\",\n\"ASIAN AND OTHER\" = \"Asian\",\n\"ASIAN OR ASIAN AMERICAN\" = \"Asian\",\n\"ASIAN/NHOPI\" = \"Asian\",\n\"ASIAN, NON-HISPANIC\" = \"Asian\",\n\"ASIAN AMERICAN AND PACIFIC ISLANDER\" = \"Asian\",\n\"ASIAN/ASIAN AMERICAN\" = \"Asian\"\n\n)\n\naian &lt;- c(\n\"AMERICAN INDIAN/ALASKA NATIVE\" = \"American Indian or Alaska Native\",\n\"NON-HISPANIC AMERICAN INDIAN/ALASKA NATIVE\" = \"American Indian or Alaska Native\",\n\"NON-HISPANIC NATIVE AMERICAN\" = \"American Indian or Alaska Native\",\n\"AMERICAN INDIAN/ALASKA NATIVE\" = \"American Indian or Alaska Native\",\n\"AMERICAN INDIAN/ALASKAN\" = \"American Indian or Alaska Native\",\n  \"AMERICAN INDIAN, ALASKA NATIVE, AND NATIVE HAWAIIAN\" = \"American Indian or Alaska Native\",\n  \"AMERICAN INDIAN OR ALASKA NATIVE\" = \"American Indian or Alaska Native\",\n  \"AMERICAN INDIAN OR ALASKA NATIVE, NON-HISPANIC\" = \"American Indian or Alaska Native\",\n  \"NATIVE AMERICAN\" = \"American Indian or Alaska Native\",\n  \"NON-HISPANIC AMERICAN INDIAN\" = \"American Indian or Alaska Native\",\n  \"INDIGENOUS AMERICAN\" = \"American Indian or Alaska Native\",\n  \"AMERICAN INDIAN/ALASKAN NATIVE\"=\"American Indian or Alaska Native\",\n  \"AMERICAN INDIAN/ALASKA NATIVE\"=\"American Indian or Alaska Native\",\n\"INDIAN AMERICAN\"=\"American Indian or Alaska Native\",\n\"NATIVE AMERICAN OR ALASKAN NATIVE\"=\"American Indian or Alaska Native\"\n)\n\nother_unk &lt;- c(\n  \"AMERICAN INDIAN\"= \"Other\",\n  \"ALASKAN NATIVE\"= \"Other\",\n  \"NON-HISPANIC AMERICAN INDIAN OR ALASKA NATIVE\" = \"Other\",\n  \"AMERICAN INDIAN OR ALASKAN\" = \"Other\",\n  \"INDIGENOUS\" = \"Other\",\n  \"OTHER\" = \"Other\",\n  \"OTHER RACE\" = \"Other\",\n  \"OTHERS\"=\"Other\",\n  \"OTHER/UNKNOWN\"=\"Other\",\n  \"WHITE DONOR / NONWHITE RECIPIENT\" = \"Other\",\n  \"NON WHITE\" = \"Other\",\n  \"NON WHITE RACE\" = \"Other\",\n  \"NON-WHITE\" = \"Other\",\n  \"NON-BLACK\" = \"Other\",\n  \"HBNO (HISPANIC, BLACK, NATIVE AMERICAN/ALASKAN AND OTHER)\" = \"Other\",\n  \"NON-HISPANIC OTHER\" = \"Other\",\n  \"NON-HISPANIC OTHER RACE\" = \"Other\",\n  \"NON-HISPANIC, ALL OTHERS\" = \"Other\",\n  \"OTHER OR MULTIPLE RACES, NON-HISPANIC\" = \"Other\",\n  \"HISPANIC ETHNICITY\" = \"Other\",\n  \"MULTIRACIAL\" = \"Other\",\n  \"ADDITIONAL RACES AND ETHNICITIES OR MIXED\" = \"Other\",\n  \"MULTIPLE OR OTHER\" = \"Other\",\n  \"TWO OR MORE RACES\" = \"Other\",\n  \"NON-HISPANIC OTHER-MULTI-RACE\" = \"Other\",\n  \"OTHER OR MISSING\" = \"Other\",\n  \"OTHER, MIXED, UNKNOWN\" = \"Other\",\n  \"SOMALIA-BORN\" = \"Other\",\n  \"AFRICAN-BORN BLACK\" = \"Other\",\n  \"OTHER MINORITY\" = \"Other\",\n  \"OTHER/MULTIRACIAL\" = \"Other\",\n  \"MEXICAN/AMERICAN\" = \"Other\",\n  \"OTHER RACES OR ETHNICITY\" = \"Other\",\n  \"MULTIRACIAL OR OTHER\" = \"Other\",\n  \"OTHER RACE-ETHNICITY\" = \"Other\",\n\n  \"UNKNOWN\"=\"Unknown\",\n  \"NOT IDENTIFIED\"=\"Unknown\",\n  \"OTHER OR UNKNOWN\"=\"Unknown\",\n  \"OTHER OR ASIAN\"=\"Unknown\",\n  \"MULTIRACIAL\"=\"Unknown\",\n  \"MISSING\"=\"Unknown\",\n  \"OTHER/UNKNOWN\"=\"Unknown\",\n  \"MORE THAN ONE RACE\"=\"Unknown\",\n\"MULTIPLE RACES\"=\"Unknown\",\n\"NOT IDENTIFIED\"=\"Unknown\",\n\"UNKNOWN OR MISSING\"=\"Unknown\",\n\"NONE OF THE ABOVE\"=\"Unknown\",\n\"UNABLE TO DETERMINE\"=\"Unknown\",\n\"DECLINED OR UNKNOWN\"=\"Unknown\",\n\"NATIVE AMERICAN OR UNKNOWN\"=\"Unknown\",\n\"UNKNOWN/OTHER\"=\"Unknown\",\n\"OTHER/NOS/UNKNOWN\"=\"Unknown\",\n  \"OTHER/MISSING\"=\"Unknown\",\n\"ALL OTHER/UNKNOWN OR MISSING\"=\"Unknown\",\n\"RECIPIENTS MISSING RACE/ETHNICITY\"=\"Unknown\",\n\"UNAVAILABLE\"=\"Unknown\",\n\"OTHERS OR UNKNOWN\"=\"Unknown\",\n\"NONE OF THE ABOVE, MULTIPLE, OR UNKNOWN\"=\"Unknown\",\n\"DECLINED OR UNAVAILABLE\"=\"Unknown\",\n\"NONE OF THE ABOVE, NON-HISPANIC\"=\"Unknown\",\n\"UNKNOWN/NOT DOCUMENTED\"=\"Unknown\",\n\"ITEM MISSED OR SKIPPED\"=\"Unknown\",\n\"OTHER, MIXED, OR UNKNOWN\"=\"Unknown\"\n)\n\nnhpi &lt;- c(\n  \"HAWAIIAN\"=\"Native Hawaiian Or Pacific Islander\",\n\"PACIFIC ISLANDER/HAWAIIAN\"=\"Native Hawaiian Or Pacific Islander\",\n\"NATIVE HAWAIIAN\"=\"Native Hawaiian Or Pacific Islander\",\n\"PACIFIC ISLANDER\"=\"Native Hawaiian Or Pacific Islander\",\n\"NON-HISPANIC ASIAN/PACIFIC ISLANDER\"=\"Native Hawaiian Or Pacific Islander\",\n\"NONHISPANIC ASIAN OR PACIFIC ISLANDER\"=\"Native Hawaiian Or Pacific Islander\",\n\"NATIVE HAWAIIAN OR OTHER PACIFIC ISLANDER\"=\"Native Hawaiian Or Pacific Islander\",\n\"NATIVE HAWAIIAN OR OTHER PACIFIC ISLANDER, NON-HISPANIC\"=\"Native Hawaiian Or Pacific Islander\",\n\"HAWAIIAN/PACIFIC ISLANDER\"=\"Native Hawaiian Or Pacific Islander\",\n\"NON-HISPANIC ASIAN AND PACIFIC ISLANDER\"=\"Native Hawaiian Or Pacific Islander\",\n\"NATIVE HAWAIIAN OR PACIFIC ISLANDER\"=\"Native Hawaiian Or Pacific Islander\",\n\"NATIVE HAWAIIAN/PACIFIC ISLANDER\"=\"Native Hawaiian Or Pacific Islander\",\n\n\"URM (BLACK, HISPANIC, NATIVE AMERICAN/ALASKAN, ASIAN/PACIFIC ISLANDER, AND OTHER)\"=\"Uncategorized\",\n\"WHITE/OTHER\"=\"Uncategorized\",\n\"SOUTH AND CENTRAL AMERICAN\"=\"Uncategorized\",\n\"PUERTO RICAN\"=\"Uncategorized\",\n\"MEXICAN\"=\"Uncategorized\",\n\"CUBAN\"=\"Uncategorized\",\n\"NONWHITE\"=\"Uncategorized\",\n\"NH OTHER\"=\"Uncategorized\",\n\"NON-HISPANIC, NONE OF THE ABOVE\"=\"Uncategorized\",\n\"NON-HISPANIC MIXED\"=\"Uncategorized\",\n\"AMERICAN INDIAN, ALASKA NATIVE, OR OTHER\"=\"Uncategorized\",\n\"ASIAN, NATIVE HAWAIIAN, OR PACIFIC ISLANDER\"=\"Uncategorized\",\n\"NATIVE\"=\"Uncategorized\",\n\"NH BLACK\"=\"Uncategorized\",\n\"OTHER (ASIAN, PACIFIC ISLANDER, NATIVE AMERICAN, MIXED OR OTHER)\"=\"Uncategorized\",\n\"NON AFRICAN AMERICAN\"=\"Uncategorized\",\n\"NON-AFRICAN AMERICAN\"=\"Uncategorized\",\n\"EUROPEAN AMERICANS\"=\"Uncategorized\",\n\"MINORITY\"=\"Uncategorized\"\n)\n\n\nrace_mapping &lt;- c(\n  white,\n  black,\n  hispanic,\n  asian,\n  aian,\n  other_unk,\n  nhpi\n)\nrace_columns &lt;- c(\"race1\", \"race2\", \"race3\", \"race4\", \"race5\", \"race6\", \"race7\", \"race8\")\n\n# articles &lt;- articles |&gt;\n#   mutate(clean_race = race_mapping[as.character(original_race_column)])\n\nunique_race_values &lt;- articles |&gt;\n  pivot_longer(cols = all_of(race_columns), names_to=\"race_column\", values_to = \"race_cleansed\") |&gt;\n  mutate(race_cleansed=toupper(race_cleansed))\n\nurvs &lt;- unique_race_values[[\"race_cleansed\"]]\n\n\nunique_race_values &lt;- unique_race_values |&gt;\n   mutate(clean_race = race_mapping[as.character(race_cleansed)])\n\n\nmissing &lt;- unique_race_values[!is.na(unique_race_values$race_cleansed) & is.na(unique_race_values$clean_race),] |&gt; select(race_cleansed)\n\n\nendingcleansed &lt;- unique_race_values |&gt; \n  rowwise() |&gt;\n    mutate(race_value = cur_data()[[paste0(race_column, \"_ss\")]]) \n\nWarning: There was 1 warning in `mutate()`.\nℹ In argument: `race_value = cur_data()[[paste0(race_column, \"_ss\")]]`.\nℹ In row 1.\nCaused by warning:\n! `cur_data()` was deprecated in dplyr 1.1.0.\nℹ Please use `pick()` instead.\n\n\n\ndata &lt;- endingcleansed |&gt; select(clean_race, race_value, journal, year) |&gt; \n  filter(!is.na(clean_race) | !is.na(race_value))\n\n\naggregated_values &lt;- data |&gt; group_by(year, clean_race) |&gt; summarise(\n  total_counts = sum(race_value)\n)\n\n`summarise()` has grouped output by 'year'. You can override using the\n`.groups` argument.\n\n# we find that some values = -99, initial journal incorrect inputs\n\naggregated_values &lt;- aggregated_values |&gt; ungroup() |&gt; filter(total_counts != -99)\n\n\nggplot(aggregated_values, aes(x=year, y=total_counts, color=clean_race)) +\n         geom_line()\n\n\n\n\n\n\n\n\n\nproportions &lt;- aggregated_values |&gt; \n  group_by(year, clean_race) |&gt; \n  summarise(n = sum(total_counts)) |&gt;\n  mutate(freq = (n / sum(n)) * 100)\n\n`summarise()` has grouped output by 'year'. You can override using the\n`.groups` argument.\n\n\n\nproportions &lt;- proportions |&gt; filter(round(freq, 0) &gt; 0)\nggplot(proportions, aes(x=year, y=freq, fill=clean_race)) +\n         geom_col() + geom_text(aes(label=round(freq, 0)))\n\n\n\n\n\n\n\n\n\n# set width of code output\noptions(width = 65)\nlibrary(ggplot2)\nlibrary(scales)\n\n\nAttaching package: 'scales'\n\n\nThe following object is masked from 'package:purrr':\n\n    discard\n\n\nThe following object is masked from 'package:readr':\n\n    col_factor\n\n# set figure parameters for knitr\nknitr::opts_chunk$set(\n  fig.width = 7,        # 7\" width\n  fig.asp = 0.618,      # the golden ratio\n  fig.retina = 3,       # dpi multiplier for displaying HTML output on retina\n  fig.align = \"center\", # center align figures\n  dpi = 300             # higher dpi, sharper image\n)\n\nggplot(proportions, aes(x=year, y=freq, color=clean_race)) +\n         geom_path(linewidth=1) + \n  labs(\n    x=\"Year\", y=\"Percentage of Total Population\"\n  ) \n\n\n\n\n\n\n\n\n\nggplot(proportions, aes(x=year, y=freq, color=clean_race)) +\n         geom_path(linewidth=1) + \n  facet_wrap(vars(clean_race))\n\n\n\n\n\n\n\n\n\ntmp &lt;- proportions %&gt;%\n  mutate(race2=clean_race)\n\ntmp %&gt;%\n  ggplot( aes(x=year, y=freq)) +\n    geom_line( data=tmp %&gt;% select(-clean_race), aes(group=race2), color=\"lightgrey\", size=0.5, alpha=0.5) +\n    geom_line( aes(color=clean_race), color=\"darkolivegreen4\", size=1.2 )+\n    theme(\n      legend.position=\"none\",\n      plot.title = element_text(size=14),\n      panel.grid = element_blank()\n    ) +\n    facet_wrap(~clean_race) + \n  theme(\n    panel.background=element_blank(),\n    strip.background=element_rect(fill=\"snow2\", color=\"snow3\"),\n    strip.clip=\"on\"\n  ) + \n  labs(\n    title = \"Comparison of proportional race disparities \\nin gynecological studies, 2010-2023\",\n    y=\"Percentage\", x=\"Year\"\n  )\n\nWarning: Using `size` aesthetic for lines was deprecated in ggplot2\n3.4.0.\nℹ Please use `linewidth` instead.\n\n\n\n\n\n\n\n\n# ref https://www.data-to-viz.com/caveat/spaghetti.html\n\n\n# comparison of study length \n\narticle_lengths &lt;- articles[c('study_year_start', 'study_year_end', 'journal')] |&gt; \n  mutate(research_length = study_year_end - study_year_start) |&gt;\n  filter(!is.na(study_year_start) &\n           study_year_start &gt; 0 & study_year_end &gt; 0 )\n\narticle_lengths_aggregated &lt;- article_lengths |&gt; \n  group_by(journal, study_year_start) |&gt; summarise(\n  mean = mean(research_length, rm.na=TRUE)\n) |&gt; filter(!is.na(study_year_start) & mean != 99 & abs(study_year_start) != 99 & \n              mean &gt; 0)\n\n`summarise()` has grouped output by 'journal'. You can override\nusing the `.groups` argument.\n\n\n\nggplot(article_lengths, aes(x=study_year_start, y=research_length, )) + \n  stat_density_2d(color=\"royalblue4\") + \n  xlim(1990, 2026) + \n  ylim(-10, 20) + \n  facet_wrap(~journal, scales=\"free_x\") + \n  labs(x=\"Starting Study Year\", y=\"Research Length\",\n       title=\"Comparison of study lengths across gynecological journals\")\n\nWarning: Removed 18 rows containing non-finite outside the scale range\n(`stat_density2d()`).\n\n\n\n\n\n\n\n\n\n\nlibrary(ggtext)\n\n\np = ggplot(proportions, aes(fill = clean_race, values = freq)) +\n  geom_waffle(color = \"white\", size = .25, n_rows = 10, flip = TRUE) +\n  facet_wrap(~year, nrow = 1, strip.position = \"bottom\", scales=\"free_x\") +\n  scale_x_discrete() + \n  scale_y_continuous(labels = function(x) x * 10, # make this multiplyer the same as n_rows\n                     expand = c(0,0))+\n  labs(title = \"Comparison of Race and Ethnicity over time\\nin gynecological journals\",\n       caption = \"Source: TidyTuesday\")+\n  theme_minimal() + \n  theme(strip.placement = \"outside\",\n       panel.spacing.x = unit(.1, \"lines\"),\n       ) + \n  guides(\n    fill=guide_legend(title=\"Race/Ethnic Category\")\n  )\np"
  }
]